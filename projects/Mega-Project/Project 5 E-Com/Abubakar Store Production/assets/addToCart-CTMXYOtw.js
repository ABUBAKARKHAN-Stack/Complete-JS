import{g as l,s as S,u as q,p as C}from"./showToast-7mOh84xe.js";const f=(c,t)=>{let e=l().find(u=>u.id===c),n=1;return e&&(n=e.quantity,t=e.price),{quantity:n,price:t}},y=()=>{let t=l().map(u=>u.price),o=t.reduce((u,d)=>u+d,0);o=Number(Math.round(o)),document.querySelector(".sub-total").textContent=`$${o}`;let e=document.querySelector(".tax-total").innerText;e=parseInt(e.replace("$","")),t.length===0?e=0:e=5,document.querySelector(".final-total").textContent="$"+Math.round(e+o),document.querySelector(".proceed").addEventListener("click",()=>{alert("Order functionality is not available in this demo.")})},g=c=>{let t=l();t=t.filter(e=>e.id!==c),document.querySelector(`#card${c}`).remove(),S("remove",c),q(t),localStorage.setItem("added-product",JSON.stringify(t)),y()},P=(c,t,o,e)=>{const n=document.querySelector(`#card${t}`),u=n.querySelector(".cart-product-quantity"),d=n.querySelector(".product-cart-total-price");let a=1,r=0;const i=l();let m=i.find(s=>s.id===t);m?(a=m.quantity,r=m.price):(r=e,e=e),c.target.classList.contains("increment-cart-product")&&(a<o?a+=1:a===o&&(a=o,r=e*o)),c.target.classList.contains("decrement-cart-product")&&a>1&&(a-=1),r=e*a,r=Number(r.toFixed(2));let p={id:t,price:r,quantity:a};p=i.map(s=>s.id===t?p:s),localStorage.setItem("added-product",JSON.stringify(p)),u.textContent=a,d.textContent=r,y()};let x=l(),v=C.filter(c=>x.some(t=>t.id===c.id));const h=document.querySelector(".cartProductContainer"),L=document.querySelector(".product-cart-template"),$=()=>{v.map(c=>{const{name:t,image:o,category:e,id:n,price:u,stock:d}=c,a=f(n,u),r=document.importNode(L.content,!0);r.querySelector("#cardValue").setAttribute("id",`card${n}`),r.querySelector(".product-cart-category").textContent=e,r.querySelector(".product-cart-img").src=o,r.querySelector(".product-cart-img").alt=t,r.querySelector(".product-cart-name").textContent=t,r.querySelector(".product-cart-total-price").textContent=a.price,r.querySelector(".cart-product-quantity").textContent=a.quantity,r.querySelector(".stock-quantity-cart-elem").addEventListener("click",i=>{P(i,n,d,u)}),r.querySelector(".remove-to-cart").addEventListener("click",()=>{g(n)}),h.appendChild(r)})};$();y();
