import{g as p,s as l,u as m,p as y}from"./showToast-7mOh84xe.js";const q=(d,i,r)=>{const n=document.querySelector(`#card${r}`);if(!n)return;const o=n.querySelector(".product-quantity");let t=parseInt(o.getAttribute("data-quantity"))||1;return d.target.classList.contains("increment-product")&&t<i&&(t+=1),d.target.classList.contains("decrement-product")&&t>1&&(t-=1),o.textContent=t,o.setAttribute("data-quantity",t),t};p();const S=(d,i,r)=>{const n=document.querySelector(`#card${r}`),o=p();let t=n.querySelector(".product-quantity").innerText,c=n.querySelector(".product-disc-price").innerText;t=Number(t),c=c.replace("$","");let u=o.find(a=>a.id===r);if(console.log(u),u&&t>1){t=Number(u.quantity)+Number(t),c=Number((c*t).toFixed(2));let a={id:r,price:c,quantity:t};a=o.map(e=>e.id===r?a:e),l("add",r),localStorage.setItem("added-product",JSON.stringify(a))}u||(c=Number((c*t).toFixed(2)),o.push({id:r,price:c,quantity:t}),localStorage.setItem("added-product",JSON.stringify(o)),m(o),l("add",r))},g=document.querySelector(".product-template"),C=document.querySelector(".products-container"),f=d=>{if(!d)return!1;d.map(i=>{const{id:r,name:n,category:o,image:t,price:c,stock:u,description:a}=i,e=document.importNode(g.content,!0);e.querySelector("#cardValue").setAttribute("id",`card${r}`),e.querySelector(".product-name").textContent=n,e.querySelector(".product-img").src=t,e.querySelector(".product-img").alt=n,e.querySelector(".product-category").textContent=o,e.querySelector(".description").textContent=a,e.querySelector(".number-stock").textContent=u,e.querySelector(".product-disc-price").textContent=`$${c}`,e.querySelector(".product-curr-price").textContent=`$${Math.round(c*3)}`,e.querySelector(".stock-quantity-elem").addEventListener("click",s=>{q(s,u,r)}),e.querySelector(".add-to-cart").addEventListener("click",s=>{S(s,u,r)}),C.append(e)})};console.log(y);f(y);
